{% extends "base.html" %}

{% block stylesheet %}
  {{ super() }}
  <link rel="stylesheet" media="all" href="{{ url_for('send_theme_file', filename='document.css') }}">
  {% if content.document_stylesheet %}
  <link rel="stylesheet" media="all" href="{{ url_for('send_media_file', filename=content.document_stylesheet) }}">
  {% endif %}
{% endblock %}

{% block main %}
<article style="--rot: 0.8deg" class="t-Barkdown">
  {% if content.format == 'html' %}
    {{ content.document|readfile|safe|shortcodes }}
  {% elif content.format == 'md' %}
    {{ content.document|readfile|markdown|shortcodes }}
  {% endif %}
</article>
{% endblock %}

{% block javascript %}
{{ super() }}
<script src="{{ url_for('send_theme_file', filename='document.bundle.js') }}"></script>
{% endblock %}
